# bootstrap/bootstrap.toml
# ------------------------
# Optional metadata consumed by Castra while planning and executing the
# bootstrap pipeline. Every key is merged on top of the values derived from
# castra.toml, so you can keep sensitive overrides (like SSH users and identities)
# out of version control when needed.

# Force the handshake stage to accept broker hellos that identify as `alpine`.
# The bundled Alpine image advertises this identity out of the box; without this
# override Castra would wait for `devbox-0` (the expanded VM name) and time out.
handshake_identity = "alpine"

[ssh]
# Host the bootstrap runner targets once the guest is reachable. Because the
# port forward in castra.toml maps guest SSH to localhost:2222, we keep the
# default host and only override the port below. Update `user` and `identity`
# to match the credentials baked into your Alpine image.
host = "127.0.0.1"
port = 2222
user = "root"
# Example identity path; comment out if you rely on passwordless root or if the
# image already trusts a different key. Paths are resolved relative to this file.
identity = "~/.ssh/id_ed25519"

[env]
# Extra environment keys appended to the values declared in castra.toml. The
# bootstrap script uses them to stamp the remote state directory.
INSTANCE_ID = "devbox-0"
